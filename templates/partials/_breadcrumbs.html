{# templates/partials/_breadcrumbs.html #}

{% comment %}
=============================================================================
REUSABLE BREADCRUMB COMPONENT
=============================================================================

This is a reusable partial that displays breadcrumb navigation.
DO NOT edit the example code below - it's for documentation only!

USAGE IN YOUR TEMPLATES (not in this file):
--------------------------------------------
In your trip_detail.html or other child templates, add:

    {% templatetag openblock %} block breadcrumbs {% templatetag closeblock %}
      {% templatetag openblock %} include "partials/_breadcrumbs.html" with breadcrumbs=breadcrumb_list {% templatetag closeblock %}
    {% templatetag openblock %} endblock {% templatetag closeblock %}

USAGE IN YOUR VIEWS:
--------------------
Pass breadcrumb_list from your view as a list of dicts:

    from core.utils.breadcrumbs import BreadcrumbPatterns
    
    def trip_detail(request, trip_id):
        trip = get_object_or_404(Trip, id=trip_id)
        context = {
            'trip': trip,
            'breadcrumb_list': BreadcrumbPatterns.trip_detail(trip)
        }
        return render(request, 'trips/trip_detail.html', context)

BREADCRUMB DATA FORMAT:
-----------------------
breadcrumbs = [
    {'title': 'Home', 'url': '/'},
    {'title': 'Trips', 'url': '/trips/'},
    {'title': 'My Trip to Paris', 'url': None}  # None = current page (no link)
]

=============================================================================
{% endcomment %}

{% if breadcrumbs %}
<nav aria-label="breadcrumb" class="mb-3">
  <ol class="breadcrumb mb-0">
    {% for crumb in breadcrumbs %}
      {% if forloop.last %}
        {# Current page - no link #}
        <li class="breadcrumb-item active" aria-current="page">{{ crumb.title }}</li>
      {% else %}
        {# Clickable breadcrumb #}
        <li class="breadcrumb-item">
          <a href="{{ crumb.url }}" class="text-decoration-none">{{ crumb.title }}</a>
        </li>
      {% endif %}
    {% endfor %}
  </ol>
</nav>
{% endif %}
